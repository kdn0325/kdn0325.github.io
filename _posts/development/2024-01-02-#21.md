---
title: "[React Native] image-picker (ì´ë¯¸ì§€ ì—…ë¡œë“œ)"

categories: development

comments: true
tags:
  - development,
    - React-Native
    - reactnative
    - Android
    - IOS
    - react-native-image-picker
    - react-native-permissions
    - PERMISSIONS

date: 2024-01-02
last_modified_at: 2024-01-02
---

---

<!-- prettier-ignore -->
* this ordered seed list will be replaced by the toc 
{:toc}

## **ğŸ”¥ 1. ì‚¬ì „ ì„¤ì¹˜**

```bash
yarn add react-native-image-picker
yarn add react-native-permissions
```

## **ğŸ”¥ 2. IOS**

### **Podfile ì¶”ê°€**

<img width="500" alt="1" src="https://github.com/kdn0325/kdn0325.github.io/assets/91298955/883d41c4-9b23-42ea-929f-50e4da2eab27">

### **info.plist ì¶”ê°€**

<img width="500" alt="1" src="https://github.com/kdn0325/kdn0325.github.io/assets/91298955/ac6178c7-07fc-4d25-b95f-e335512cb356">

## **ğŸ”¥ 3. ì‹¤í–‰**

### **ê¶Œí•œ í—ˆìš© ì•Œë¦¼**

```tsx
useEffect(() => {
  if (Platform.OS === "android") {
    check(PERMISSIONS.ANDROID.CAMERA)
      .then((result) => {
        if (result === RESULTS.DENIED || result === RESULTS.GRANTED) {
          return request(PERMISSIONS.ANDROID.CAMERA);
        } else {
          console.log(result);
          throw new Error("ì¹´ë©”ë¼ ì§€ì› ì•ˆ í•¨");
        }
      })
      .catch(console.error);
  } else {
    check(PERMISSIONS.IOS.PHOTO_LIBRARY)
      .then((result) => {
        if (
          result === RESULTS.DENIED ||
          result === RESULTS.LIMITED ||
          result === RESULTS.GRANTED
        ) {
          return request(PERMISSIONS.IOS.PHOTO_LIBRARY);
        } else {
          console.log(result);
          throw new Error("ì¹´ë©”ë¼ ì§€ì› ì•ˆ í•¨");
        }
      })
      .catch(console.error);
  }
}, []);
```

### **ì´ë¯¸ì§€ ì—…ë¡œë“œ ìƒ˜í”Œ ì½”ë“œ**

```tsx

export default function ExpertDescriptionInfo() {
    const [selectedImage, setSelectedImage] = useState('');
    const chooseImage = () => {
        const options: ImageLibraryOptions = {
          mediaType: 'photo', // ì¶”ê°€: ì›í•˜ëŠ” ë¯¸ë””ì–´ íƒ€ì…('photo', 'video' ë“±)ì„ ì§€ì •.
        };

        launchImageLibrary(options, (response: ImagePickerResponse) => {
          // ì´ë¯¸ì§€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œë¶€í„°ì˜ ì‘ë‹µ ì²˜ë¦¬
          if (response.didCancel) {
            console.log('ì‚¬ìš©ìê°€ ì´ë¯¸ì§€ ì„ íƒì„ ì·¨ì†Œí–ˆìŠµë‹ˆë‹¤.');
          } else if (response.errorCode === 'camera_unavailable') {
            console.log('ì¹´ë©”ë¼ ì‚¬ìš©ì´ ë¶ˆê°€ëŠ¥ í•©ë‹ˆë‹¤');
          } else if (response.errorCode === 'permission') {
            console.log('ì¹´ë©”ë¼ ê¶Œí•œ ì„¤ì •ì´ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤');
          } else {
            console.log(response);
            const selectedImageUri = response.assets && response.assets[0]?.uri;

            if (selectedImageUri) {
              setSelectedImage(selectedImageUri);
              setProfile(selectedImageUri.uri);
            } else {
              // ì„ íƒëœ ì´ë¯¸ì§€ê°€ ì—†ëŠ” ê²½ìš°ì˜ ì²˜ë¦¬
            }
          }
        });
    };
    return (
            {selectedImage && (
                <Image
                    style={{
                        width: 150,
                        height: 150,
                        borderRadius: 100,
                    }}
                    source={{uri: selectedImage.uri}}
                />
            )
        );
    }
```
