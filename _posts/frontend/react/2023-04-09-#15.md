---
title: "[React.js] Redux (2)"

categories: frontend
tags:
  - [
      react,
      Redux,
      State,
      Action,
      Reducer,
      Dispatch,
      ActionCreator,
      AsyncAction,
      Middleware,
      Store,
      StoreCreator,
      StoreEnhancer,
      redux-devTools,
    ]

date: 2023-04-09
last_modified_at: 2023-04-09
---

---

## ğŸš€Â redux ì‘ë™ë°©ì‹

- ìš°ë¦¬ëŠ” ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ(ë°ì´í„°)ë¥¼ Storeë¼ëŠ” ë‹¨ì¼ ìœ„ì¹˜ì— ì €ì¥.Â í”„ëŸ°íŠ¸ì—”ë“œìš© ë°ì´í„°ë² ì´ìŠ¤ë¡œ ì €ì¥
- 3ê°€ì§€ ì£¼ìš” ë¶€ë¶„
  - Store - ëª¨ë“  ë°ì´í„°ë¥¼ ì €ì¥
  - Reducer - ë°ì´í„°ë¥¼ ì¶”ê°€, ì—…ë°ì´íŠ¸ ë° ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥(ì‚¬ìš© ë°©ë²•)
    â€¢
  - Actions - ìˆ˜í–‰í•  ì‘ì—…(ë¬´ì—‡ì„ í•´ì•¼ í•˜ëŠ”ì§€)ì„ ì •ì˜
- Reducer ê¸°ëŠ¥ì„ í†µí•´ì„œë§Œ Store ë°ì´í„°ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤..
- í• ì¼ ëª©ë¡ ë§Œë“¤ê¸°
  - Action - ADD_TASK
  - Reducer - perform how to add task in the store

### ğŸ“ŒÂ **Redux êµ¬í˜„ì„ ìœ„í•œ 4ë‹¨ê³„**:

- Designing the store - Store ê°ì²´ì˜ ëª¨ìŠµ
- List actions - ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ìˆ˜í–‰
- ë¦¬ë“€ì„œ ë§Œë“¤ê¸° - í•´ë‹¹ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì„ ì •ì˜í•˜ëŠ” ê¸°ëŠ¥
- ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ ìƒì„±

### ğŸ’»Creating Reducer function:

- ê°ì†ê¸°ëŠ” ë‘ ê°œì˜ ì¸ìˆ˜ë¥¼ ë°›ëŠ” ìˆœìˆ˜ í•¨ìˆ˜ì…ë‹ˆë‹¤.Â ì²« ë²ˆì§¸ëŠ” ì´ˆê¸° ë˜ëŠ” í˜„ì¬ ìƒíƒœì´ê³  ë‘ ë²ˆì§¸ëŠ” ì‘ì—… ê°œì²´
- ì´ í•¨ìˆ˜ ë‚´ì—ì„œ If..elseë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ Switch ì¼€ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ì—… ìœ í˜•ì„ ì‹ë³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
let id = 0;
export default function reducer(state = [], action) {
  switch (action.type) {
    case ADD_TASK:
      return [
        ...state,
        {
          id: ++id,
          task: action.payload.task,
          completed: false,
        },
      ];
    case REMOVE_TASK:
      return state.filter((task) => task.id !== action.payload.id);
    case TASK_COMPLETED:
      return state.map((task) =>
        task.id === action.payload.id
          ? {
              ...task,
              completed: true,
            }
          : task
      );
    default:
      return state;
  }
}
```

### ğŸ“œÂ **redux ìŠ¤í† ì–´ êµ¬ì„±**

- ë¦¬ë•ìŠ¤ ìŠ¤í† ì–´ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ ìš°ë¦¬ëŠ” ë¦¬ë•ìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— createStoreë¼ëŠ” í•¨ìˆ˜ê°€ ìˆê³  ë£¨íŠ¸ ë¦¬ë“€ì„œë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•˜ê¸°ë§Œ í•˜ë©´ ëŒ.

```jsx
import { legacy_createStore as createStore } from "redux";
import reducer from "./tasks";
const store = createStore(reducer);
export default store;
```

### ğŸ§‘ğŸ»â€ğŸ’»Â  Store**ì—ì„œ ë°ì´í„° ì „ë‹¬**

- ì–´ë–¤ ì•¡ì…˜ì„ ë°œì†¡í•˜ë ¤ë©´ store.dispatch ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ê³  type ì†ì„±(ì•¡ì…˜ ì´ë¦„)ê³¼ í˜ì´ë¡œë“œ ì†ì„±(ì•¡ì…˜ê³¼ ê´€ë ¨ëœ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŒ)ì„ ê°€ì§„ ì•¡ì…˜ ê°ì²´ë¥¼ ì „ë‹¬í•´ì•¼ ëŒ.

```jsx
store.dispatch({ type: "ADD_TASK", payload: { task: "Add new task" } });
```

### ğŸ””**êµ¬ë… ë° íƒˆí‡´ ë°©ë²•**

- YouTubeì—ì„œ êµ¬ë… ê¸°ëŠ¥ì„ ì‚¬ìš©í•¨ì— ë”°ë¼ store.subscribe ë©”ì„œë“œëŠ” ìŠ¤í† ì–´ ê°œì²´ì— ë³€ê²½ ì‚¬í•­ì´ ìˆì„ ë•Œ ì•Œë¦¼ì„ ë°›ëŠ” ë°ì—ë„ ì‚¬ìš©

```jsx
store.subscribe(() => {
  console.log("Updated", store.getState());
});
```

- ì´ ì½œë°± í•¨ìˆ˜ëŠ” redux ìŠ¤í† ì–´ì˜ ëª¨ë“  ë³€ê²½ ì‚¬í•­ì—ì„œ ì‹¤í–‰.
- ì´ì œ ì´ êµ¬ë… ë°©ë²•ì„ ì¤‘ì§€í•˜ë ¤ë©´ êµ¬ë… ì·¨ì†Œë¥¼ ì‚¬ìš©í•´ì•¼í•¨.

```jsx
const unsubscribe = store.subscribe(() => {
  console.log("Updated", store.getState());
});
unsubscribe();
```

### ğŸš€redux-devTools êµ¬ì„± ë°©ë²•

```jsx
npm i redux-devtools-extension ë˜ëŠ” yarn add redux-devtools-extension
```

- configureStore íŒŒì¼ì—ì„œ ì´Â ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„¤ì¹˜ í•˜ê³  ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ devToolsEnhancerë¥¼ ê°€ì ¸ì˜´.

```jsx
import { legacy_createStore as createStore } from "redux";
import { devToolsEnhancer } from "redux-devtools-extension";
import reducer from "./tasks";

const store = createStore(reducer, devToolsEnhancer({ trace: true }));

export default store;
```

- ë˜í•œ ì´ í™•ì¥ìœ¼ë¡œ ì¶”ì ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìœ¼ë©° ì´ í™•ì¥ì—ì„œ ë¡œê·¸ íŒŒì¼ì„ ê°€ì ¸ì˜¤ê³  ë‚´ë³´ë‚¼ ìˆ˜ë„ ìˆìŒ.
