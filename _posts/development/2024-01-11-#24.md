---
title: "[React Native] react-native-vision-camera"

categories: development

comments: true
tags:
  - development,
    - React-Native
    - reactnative
    - react-native-vision-camera
    - ê°œë°œ ì…‹íŒ…
    - ê¶Œí•œ ì„¤ì •
    - AOS
    - IOS
    - ê¶Œí•œ ê°€ì ¸ì˜¤ê¸°
    - ê¶Œí•œ ìš”ì²­ í•˜ê¸°
    - Camera íƒœê·¸
    - useCameraDevices
    - deviceuseCameraDevices
    - photo
    - video
    - audio
    - video

date: 2024-01-11
last_modified_at: 2024-01-11
---

---

<!-- prettier-ignore -->
* this ordered seed list will be replaced by the toc 
{:toc}

## **ğŸ”¥ 1. ê°œë°œ ì…‹íŒ…**

```bash
yarn add react-native-vision-camera
cd ios && pod install && cd ..
```

## **ğŸ”¥ 2. ê¶Œí•œ ì„¤ì •**

## (1) : IOS

```yaml
//Info.plist

<!-- ì¹´ë©”ë¼ ê¶Œí•œ -->
<key>NSCameraUsageDescription</key>
<string>$(PRODUCT_NAME) needs access to your Camera.</string>

<!-- ë§ˆì´í¬ ê¶Œí•œ -->
<key>NSMicrophoneUsageDescription</key>
<string>$(PRODUCT_NAME) needs access to your Microphone.</string>
```

## (2) : AOS

```java
//AndroidManifest.xml

<!-- ì¹´ë©”ë¼ ê¶Œí•œ -->
<uses-permission android:name="android.permission.CAMERA" />

<!-- ë§ˆì´í¬ ê¶Œí•œ -->
<uses-permission android:name="android.permission.RECORD_AUDIO" />
```

## (3) : ê¶Œí•œ ê°€ì ¸ì˜¤ê¸° / ê¶Œí•œ ìš”ì²­ í•˜ê¸°

### (1) : ê¶Œí•œ ê°€ì ¸ì˜¤ê¸° : ì‚¬ìš©ìê°€ ê¶Œí•œì„ ë¶€ì—¬í–ˆëŠ”ì§€ ì²´í¬

```tsx
const cameraPermission = await Camera.getCameraPermissionStatus();
const microphonePermission = await Camera.getMicrophonePermissionStatus();
```

### (2) : ê¶Œí•œ ìš”ì²­í•˜ê¸° : ì‚¬ìš©ìì—ê²Œ ê¶Œí•œì„ ìš”ì²­

```tsx
const newCameraPermission = await Camera.requestCameraPermission();
const newMicrophonePermission = await Camera.requestMicrophonePermission();
```

## **ğŸ”¥ 3. ì˜ˆì‹œ**

### (1) : ê¶Œí•œ í™•ì¸ / ìš”ì²­

```tsx
useEffect(() => {
  const checkPermission = async () => {
    // ì¹´ë©”ë¼ ê¶Œí•œ í™•ì¸
    const cameraPermission = await Camera.getCameraPermissionStatus();

    switch (cameraPermission) {
      case "authorized":
        // ì¹´ë©”ë¼ ê¶Œí•œì´ ìˆì„ë•Œ ì‹¤í–‰í•  ë¡œì§
        break;

      case "not-determined":
        // ì•„ì§ ê¶Œí•œ ìš”ì²­ì„ í•˜ì§€ ì•Šì€ ìƒíƒœë¡œ ìƒˆë¡­ê²Œ ê¶Œí•œ ìš”ì²­í•˜ê¸°
        const newCameraPermission = await Camera.requestCameraPermission();

        if (newCameraPermission === "authorized") {
          // ì¹´ë©”ë¼ ê¶Œí•œì´ ìˆì„ë•Œ ì‹¤í–‰í•  ë¡œì§
        } else if (newCameraPermission === "denied") {
          // ê¶Œí•œ ìš”ì²­ì„ í–ˆì§€ë§Œ ê±°ë¶€ëì„ë•Œ ì‹¤í–‰í•  ë¡œì§
          // ex) ì„¤ì •ìœ¼ë¡œ ì´ë™, ê¶Œí•œì´ ì—†ìœ¼ë©´ ì¹´ë©”ë¼ ì‹¤í–‰í•  ìˆ˜ ì—†ë‹¤ëŠ” ì•Œë¦¼ì°½ ë“±ë“±
          await Linking.openSettings();
        }
        break;

      case "denied":
        // ê¶Œí•œ ìš”ì²­ì„ í–ˆì§€ë§Œ ê±°ë¶€ëì„ë•Œ ì‹¤í–‰í•  ë¡œì§
        // ex) ì„¤ì •ìœ¼ë¡œ ì´ë™, ê¶Œí•œì´ ì—†ìœ¼ë©´ ì¹´ë©”ë¼ ì‹¤í–‰í•  ìˆ˜ ì—†ë‹¤ëŠ” ì•Œë¦¼ì°½ ë“±ë“±
        await Linking.openSettings();
        break;
    }
  };

  checkPermission();
}, []);
```

### (2) : **Camera íƒœê·¸ ë° props**

```tsx
function App() {
  const devices = useCameraDevices();
  const device = devices.back;

  if (device == null) return <LoadingView />;
  return (
    <Camera
      style={StyleSheet.absoluteFill}
      device={device}
      photo={true}
      video={false}
      audio={false} // ì„ íƒì‚¬í•­
      isActive={true}
    />
  );
}
```

- `**style` : ë‚´ê°€ ì›í•˜ëŠ” ì¹´ë©”ë¼ì˜ ìŠ¤íƒ€ì¼ì„ ì§€ì •. `StyleSheet.absoluteFill`ì„ ì‚¬ìš©í–ˆì„ë•ŒëŠ” í™”ë©´ ì „ì²´ê°€ ì¹´ë©”ë¼ë¡œ ê½‰ ì°¨ê²ŒëŒ\*\*
- `**useCameraDevices()` : í˜„ì¬ ì‚¬ìš©í•˜ê³  ìˆëŠ” ê¸°ê¸°ì˜ ì¹´ë©”ë¼ ì •ë³´. ê°ì²´ë¡œ ì´ë£¨ì–´ì ¸ìˆìœ¼ë©° ë³´í†µ ì•, ë’·ë©´(front, back) ì¹´ë©”ë¼ì˜ ì •ë³´ê°€ ë‹´ê²¨ ìˆìŒ.\*\*
- `**deviceuseCameraDevices()`Â : í˜„ì¬ ì‚¬ìš©í•˜ê³  ìˆëŠ” ê¸°ê¸°ì˜ ì¹´ë©”ë¼ë“¤ì˜ ì •ë³´. ê°ì²´ë¡œ ì´ë£¨ì–´ì ¸ìˆìœ¼ë©° ë³´í†µ ì•, ë’·ë©´(front, back) ì¹´ë©”ë¼ì˜ ì •ë³´, backì—ì„œ backìë¦¬ë¥¼ stateë¡œ ê´€ë¦¬í•´, ì¹´ë©”ë¼ ì „í™˜ë²„íŠ¼ì„ ëˆŒë €ì„ë•Œ frontì™€ backìœ¼ë¡œ ë³€ê²½ë˜ëŠ” í˜•ì‹ìœ¼ë¡œ ì–´ë–¤ ì¹´ë©”ë¼ë¥¼ ì‚¬ìš©í• ì§€ ì„ íƒí•  ìˆ˜ ìˆìŒ\*\*
- `**photo` : ì‚¬ì§„ ì´¬ì˜í•  ë•Œ trueë¡œ ì„¤ì •ë˜ì–´ì•¼ ì´¬ì˜ì´ ê°€ëŠ¥\*\*
- `**video`,Â `audio` : ì˜ìƒ ì´¬ì˜ê³¼ ë§ˆì´í¬ë¥¼ ì‚¬ìš©í•  ë•Œ trueë¡œ ì„¤ì •ë˜ì–´ì•¼ ì´¬ì˜ì´ ê°€ëŠ¥\*\*
- `**isActive` : trueì¼ ë•Œ ì¹´ë©”ë¼ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.\*\*
