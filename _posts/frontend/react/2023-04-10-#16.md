---
title: "[React.js] Redux (3)"

categories: frontend

comments: true
tags: [reactjs, redux-toolkit, state, action]

date: 2023-04-10
last_modified_at: 2023-04-10
---

---

<!-- prettier-ignore -->
* this ordered seed list will be replaced by the toc 
{:toc}

## ğŸš€Â redux-toolkitë¥¼ ì´ìš©í•˜ì—¬ ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê°€ì¥ ì¢‹ê³  í˜„ëŒ€ì ì¸ ë°©ë²•

- Redux-toolkitì€ redux ì½”ë“œë¥¼ ë‹¨ìˆœí™”í•˜ê¸° ìœ„í•œ ë§¤ìš° ìœ ëª…í•˜ê³  ê°•ë ¥í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì´ë©° Reduxì—ì„œ ê³µì‹ì ìœ¼ë¡œ ê¶Œì¥í•©ë‹ˆë‹¤.
- Redux-toolkitì—ëŠ” store, createAction, createReducer ë° createSliceë¥¼ êµ¬ì„±í•˜ëŠ” ë§ì€ ë©”ì„œë“œê°€ ìˆìŠµë‹ˆë‹¤.
- configureStore ë©”ì†Œë“œëŠ” redux ìŠ¤í† ì–´ë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë˜ë©° redux-devToolsë¥¼ ìë™ìœ¼ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤.Â ë”°ë¼ì„œ devtoolsEnhancer ê¸°ëŠ¥ì„ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.
- ê·¸ëŸ° ë‹¤ìŒ payload ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ ì‘ì—… ê°œì²´ë¥¼ ë§Œë“œëŠ” ë° ì‚¬ìš©ë˜ëŠ” createAction ë©”ì„œë“œë¥¼ ë´…ë‹ˆë‹¤.

```jsx
import { createAction } from '@reduxjs/toolkit';

const addTask = createAction('ADD_TASK');
console.log(addTask({ task: 'Add new task!' }));

//Output in console
{ type: 'ADD_TASK', payload: { task: 'Add new task!' } }
```

- ê·¸ëŸ° ë‹¤ìŒ switch case ë˜ëŠ” If..elseë¥¼ ì‘ì„±í•˜ì§€ ì•Šê³  ë¦¬ë“€ì„œ í•¨ìˆ˜ë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” createReducer í•¨ìˆ˜.
- ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ì—ëŠ” í•˜ë‚˜ì˜ í•¨ìˆ˜ì—ì„œ ì•¡ì…˜ê³¼ ë¦¬ë“€ì„œë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” createSlice í•¨ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤.Â ì´ëŠ” ì½”ë“œë¥¼ ê¹¨ë—í•˜ê³  ìœ ì§€ ê´€ë¦¬í•˜ê¸° ì‰½ê²Œ ë§Œë“œëŠ” ë° ë§¤ìš° ìœ ìš©í•¨.

```jsx
import { createSlice } from "@reduxjs/toolkit";
let id = 0;

const taskSlice = createSlice({
  name: "tasks",
  initialState: [],
  reducers: {
    // action: function
    addTask: (state, action) => {
      state.push({
        id: ++id,
        task: action.payload.task,
        completed: false,
      });
    },
    removeTask: (state, action) => {
      const index = state.findIndex((task) => task.id === action.payload.id);
      state.splice(index, 1);
    },
    completedTask: (state, action) => {
      const index = state.findIndex((task) => task.id === action.payload.id);
      state[index].completed = true;
    },
  },
});

export const { addTask, removeTask, completedTask } = taskSlice.actions;
export default taskSlice.reducer;
```

- redux-toolkitì„ ì‚¬ìš©í•œë‹¤ë©´ ê°ì²´ì²˜ëŸ¼ ë¦¬ë“€ì„œë¥¼ ê²°í•©í•  ìˆ˜ ìˆìŒ.

```jsx
import { configureStore } from "@reduxjs/toolkit";
import employeeReducer from "./employees";
import taskReducer from "./tasks";

const store = configureStore({
  reducer: {
    tasks: taskReducer,
    employees: employeeReducer,
  },
});

export default store;
```
