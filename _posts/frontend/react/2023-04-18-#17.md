---
title: "[React.js] Redux (4)"

categories: frontend
comments: true
tags: [reactjs, redux-toolkit, state, action]

date: 2023-04-18
last_modified_at: 2023-04-18
---

---

## ğŸš€Â **Redux ì‘ì—… ìˆœì„œ**

### **1. ì•¡ì…˜ íƒ€ì… ì •ì˜í•˜ê¸°**

```jsx
(...)
/* 1. ì•¡ì…˜ íƒ€ì… ì •ì˜í•˜ê¸° (const ë³€ìˆ˜ = "íŒŒì¼ëª…/ì•¡ì…˜ëª…") */

const RED = "color/RED"
const GREEN = "color/GREEN"
const BLUE = "color/BLUE"
const PINK = "color/PINK"
```

### **2. ì•¡ì…˜ ìƒì„± í•¨ìˆ˜ ë§Œë“¤ê¸° ë° ì•¡ì…˜ ë‚´ë³´ë‚´ê¸°**

```jsx
(...)

/* 2. ì•¡ì…˜ ìƒì„± í•¨ìˆ˜ ë§Œë“¤ê¸° ë° ì•¡ì…˜ ë‚´ë³´ë‚´ê¸° */

export const red = () =>({type:"RED"})
export const green = () =>({type:"GREEN"})
export const blue = () =>({type:"BLUE"})
export const pink = () =>({type:"PINK"})
```

### **3. ì´ˆê¸° ìƒíƒœ ë° ë¦¬ë“€ì„œ í•¨ìˆ˜ ë§Œë“¤ê¸°**

```jsx
//3. ì´ˆê¸°ê°’ ë° ë¦¬ë“€ì„œ ìƒì„±

const initialState = {
  color: "green",
};

const reducer = (state = initialState, action) => {
  switch (action.type) {
    case CHANGE_COLOR:
      return {
        color: action.color,
        //action.ë§¤ê°œë³€ìˆ˜
      };
    default:
      return state;
  }
};

export default reducer;
```

### **4. ë£¨íŠ¸ ë¦¬ë“€ì„œ ë§Œë“¤ê¸°**

```jsx
//store/index.js

/* 4. ë£¨íŠ¸ ë¦¬ë“€ì„œ ë§Œë“¤ê¸° */

export default combineReducers({
  color,
});
```

### **5. ìŠ¤í† ì–´ ë§Œë“¤ê¸°**

```jsx
//src/index.js

/* 5. ìŠ¤í† ì–´ ë§Œë“¤ê¸° */

const store = createStore(rootReducer, composeWithDevTools());
```

### **6. Provider ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œì íŠ¸ì— ë¦¬ë•ìŠ¤ ì ìš©í•˜ê¸°**

```jsx
//src/index.js

/* 6. Provider ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ í”„ë¡œì íŠ¸ì— ë¦¬ë•ìŠ¤ ì ìš©í•˜ê¸° */

ReactDOM.render(
  <React.StrictMode>
    <Provider store={store}>
      <App />
    </Provider>
  </React.StrictMode>,
  document.getElementById("root")
);
reportWebVitals();
```

### **7. ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°**

```jsx
import React from "react";
import { useDispatch, useSelector } from "react-redux";
import { blue, green, pink, red } from "../store/modules/color";

/* 7. ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸° */

const Color = () => {
  // const stateë‹´ì„ì´ë¦„ = useSelector( state => state.ë¦¬ë“€ì„œíŒŒì¼ëª….stateëª… )
  const color = useSelector((state) => state.color.color);
  // ë‘ë²ˆì§¸ëŠ” ë¦¬ë“€ì„œíŒŒì¼ëª… , ì„¸ë²ˆì§¸ëŠ” initalstate
  const dispatch = useDispatch();
  return (
    <div>
      <h1 style={{ color: color }}>ì»¬ëŸ¬ : {color}</h1>
      <p>
        <button onClick={() => dispatch(red())}>red</button>
        <button onClick={() => dispatch(green())}>green</button>
        <button onClick={() => dispatch(blue())}>blue</button>
        <button onClick={() => dispatch(pink())}>pink</button>
      </p>
    </div>
  );
};

export default Color;
```
