---
title: "[React Native] í™˜ê²½ ë³€ìˆ˜ ì…‹íŒ…"

categories: frontend

comments: true
tags:
  - React-Native
  - react-native-config
  - Android
  - IOS
  - build.gradle ì…‹íŒ…
  - tmp.xcconfig
  - í™˜ê²½ë³€ìˆ˜ ê°€ì ¸ì˜¤ê¸°
  - iOS (info.plist)
  - AndroidManifest
  - build.gradle
  - env
  - Pre-actions
  - Edit Scheme
  - Â New Run Script Action

date: 2024-01-01
last_modified_at: 2024-01-01
---

---

<!-- prettier-ignore -->
* this ordered seed list will be replaced by the toc 
{:toc}

## **ğŸ”¥ 1.  ì‚¬ì „ ì„¤ì¹˜**

```bash
yarn add react-native-config or npm i react-native-config
```

## **ğŸ”¥ 2.  Android**

**1. build.gradle ì…‹íŒ…**

- `project/android/app/build.gradle`

```java
// ë¹Œë“œ íƒ€ì…ë§ˆë‹¤ .envê°€ ë°”ë€Œì–´ì•¼ í•˜ëŠ” ê²½ìš° ì•„ë˜ì½”ë“œ ì„¤ì • (.env í•˜ë‚˜ì¸ ê²½ìš° ë¬´ê´€)
project.ext.envConfigFiles = [
    debug: ".env.debug",
    release: ".env",
    anothercustombuild: ".env.staging",
]

apply from: project(':react-native-config').projectDir.getPath() + "/dotenv.gradle" // ì¶”ê°€

defaultConfig {
	        resValue "string", "build_config_package", "AndroidManifestíŒŒì¼ packageNameì…ë ¥" // ì¶”ê°€
            ...
}
```

## **ğŸ”¥ 3.  IOS**

**1. ConfigíŒŒì¼ ìƒì„±**




<img width="500" alt="1" src="https://github.com/kdn0325/kdn0325.github.io/assets/91298955/28e94bea-ab0a-4abd-af8d-d4a029b78f6b">
<img width="500" alt="1" src="https://github.com/kdn0325/kdn0325.github.io/assets/91298955/d54e169d-206b-4a3d-838f-594fc0d54755">


**2. Configurationsì— Config ì ìš©**


<img width="500" alt="1" src="https://github.com/kdn0325/kdn0325.github.io/assets/91298955/976f7da4-7faa-45c8-a324-60ef09d67c03">

ìƒì„±í•œ ConfigíŒŒì¼ì— ì•„ë˜ ì½”ë“œ ì¶”ê°€

```
#include? "tmp.xcconfig"
```

**3. Pre-actions ì¶”ê°€**

Xcodeì—ì„œ ì¢Œì¸¡ ìƒë‹¨Â **Product > Scheme > Edit Scheme**ì„ ì—´ê³ 

**Build > Pre-actions**íƒ­ì—ì„œ ì¢Œì¸¡ í•˜ë‹¨ +ë¥¼ ëˆŒëŸ¬Â **New Run Script Action**í´ë¦­

<img width="500" alt="1" src="https://github.com/kdn0325/kdn0325.github.io/assets/91298955/07be9dc9-6929-4cd3-a84a-ec62a0f69e67">
<img width="500" alt="1" src="https://github.com/kdn0325/kdn0325.github.io/assets/91298955/95d6f05f-b4cf-4b70-a136-59255a60d7d4">


<img width="500" alt="1" src="https://github.com/kdn0325/kdn0325.github.io/assets/91298955/95d6f05f-b4cf-4b70-a136-59255a60d7d4">

- `info.plist`

ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‘ì„±

```cpp
cp "${PROJECT_DIR}/../.env"

"${SRCROOT}/../node_modules/react-native-config/ios/ReactNativeConfig/BuildXCConfig.rb" "${SRCROOT}/.." "${SRCROOT}/tmp.xcconfig"
```

## **ğŸ”¥ 4.  ì‚¬ìš©ë°©ë²•**

- **í™˜ê²½ë³€ìˆ˜ ì„ ì–¸**
- **ë£¨íŠ¸ê²½ë¡œì˜ .envíŒŒì¼ ìƒì„±**

```
ENV_KEY=VALUE
```

**1. í™˜ê²½ë³€ìˆ˜ ê°€ì ¸ì˜¤ê¸°**

```tsx
import Config from 'react-native-config';
Config.ENV_KEY
```

**2. iOS (info.plist)**

```yaml
<key>CFBundleDisplayName</key>
<string>$(ENV_KEY)</string>
```

**3. AndroidManifest**

```java
<application
      android:name=".MainApplication"
      android:label="@string/ENV_KEY"
	  ...
>
</application>
```

**4. build.gradle**

```java
versionCode project.env.get("ENV_KEY").toInteger()
versionName project.env.get("ENV_KEY")
```
