I"<p><strong>useEffect</strong></p>

<p><a href="https://ko.reactjs.org/docs/hooks-reference.html#useeffect">Hooks API Reference – React</a></p>

<p>useEffect는 React Hooks API의 일종으로, 
<strong>컴포넌트가 렌더링 될 때마다 특정 작업을 실행</strong>하기 위한 Hook이다.</p>

<p>1. 백엔드 서버에서 변경된 REST API 데이터를 패치</p>

<p>2. props, state 등 상태값의 변동을 확인하기 위함</p>

<p>3. Timers(setTimeout, setInterval) 을 운용하기 위함</p>

<p><strong>기본 문법</strong></p>

<p>useEffect(callback function, [dependency array])</p>

<p><strong>1) Callback function</strong></p>

<p><strong>useEffect의 첫 번째 인자</strong>이자 <strong>effect 함수</strong>라고도 칭한다. 매 <strong>렌더링 시 수행하고자 하는 작업</strong>을 콜백함수 형태로 인자로 전달한다.</p>

<p><strong>2) Dependency Array</strong></p>

<p><strong>useEffect의 두 번째 인자</strong>이다. deps는 필수요소가 아니므로 생략해도 되나, 이 <strong>deps의 모습에 따라 useEffect의 성질이 달라진다.</strong></p>

<ul>
  <li><strong>undefined</strong> : 모든 렌더링, 리렌더링 시 effect 함수 실행</li>
  <li><strong>[ ] (빈 배열)</strong> : 최초(마운트)에만 effect 함수 실행</li>
  <li><strong>[variable]</strong> : deps 배열 내 값들이 바뀌는 경우에도 effect 함수 실행. 통상 effect 함수와 관련된 값이나 상태(props, state) 해당.</li>
</ul>

<p><strong>3) Cleanup function</strong></p>

<p><strong>effect 함수가 반환(return)하는 함수</strong>를 cleanup 함수라고 한다. 이 함수는, <strong>deps가 비었다면 언마운트 시, 값이 있다면 해당 값의 업데이트 직전에 실행</strong>된다.</p>

<p>그렇기에, <strong>이벤트 리스너 삭제나 클로저 해제 등의 역할</strong>을 주로 담당하기 때문에 Clean-up 이라고 칭해지곤 한다.</p>

<p><strong>회고</strong></p>

<p>렌더링 최적화 등 고려해야 될 조건이나 작동원리를 제대로 모르고 썼다고 느꼈다.</p>

<p>useEffect를 단순한 업데이트 용도로 사용해온 나로서는, 정말 고려해야 할 부분이 많다</p>
:ET