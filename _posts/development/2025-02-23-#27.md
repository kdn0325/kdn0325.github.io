---
title: "[React Native]  ì´ë¯¸ì§€ ë° ì‚¬ì§„ ê¶Œí•œ ì„¤ì •í•˜ê¸°"

categories: development

comments: true
tags:
  - [
      development,
      React-Native,
      ì‚¬ì§„ ê¶Œí•œ,
      react-native-permissions,
      READ_MEDIA_IMAGES,
      READ_MEDIA_VIDEO,
      READ_MEDIA_AUDIO,
      WRITE_EXTERNAL_STORAGE,
    ]

date: 2025-02-23
last_modified_at: 2025-02-23
---

---

<!-- prettier-ignore -->
* this ordered seed list will be replaced by the toc 
{:toc}

## **ğŸ”¥ 1.Dependency ì„¤ì¹˜**

```sh

$ npm install --save react-native-permissions
# --- or ---
$ yarn add react-native-permissions
```

## **ğŸ”¥ 2. IOS í™˜ê²½ ì„¤ì •**

[IOS ì„¤ì •ì€ ê³µì‹ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¸íŒ… ë°©ë²•ì„ ì°¸ê³ í•˜ë©´ ê¸ˆë°©í•  ìˆ˜ ìˆìœ¼ë‹ˆ ìƒëµ](https://www.npmjs.com/package/react-native-permissions)

## **ğŸ”¥ 3. Android í™˜ê²½ ì„¤ì •**

ì‚¬ì§„ê³¼ ë™ì˜ìƒì„ ì´¬ì˜í•˜ê¸° ìœ„í•´ì„œëŠ” android.permission.CAMERA, android.permission.READ_EXTERNAL_STORAGE, android.permission.WRITE_EXTERNAL_STORAGE ê¶Œí•œì„ í•„ìš”ë¡œ í•œë‹¤.

## **ğŸ”¥ 4. ê¶Œí•œ ì ìš©í•˜ê¸°**

**TargetSDK 33ë¶€í„°ëŠ”Â READ_MEDIA_IMAGESÂ  READ_MEDIA_VIDEOÂ  READ_MEDIA_AUDIOì— ëŒ€í•œ ê¶Œí•œë“¤ì„ Manifestì— ì„ ì–¸í•´ ì£¼ê³ Â  í•´ë‹¹ ì´ë¦„ì˜ ê¶Œí•œìœ¼ë¡œ ê¶Œí•œ ì²´í¬ ë° ê¶Œí•œ ìš”ì²­ì„ ì§„í–‰í•´ì•¼í•¨ SDK 33 ë¯¸ë§Œì€ READ_EXTERNAL_STORAGE , WRITE_EXTERNAL_STORAGE ê¶Œí•œìœ¼ë¡œ ì ‘ê·¼ í•  ìˆ˜ ìˆë‹¤**

```sh
    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/>
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
    <!-- SDK >= 33 permissions for media   -->
    <uses-permission android:name="android.permission.READ_MEDIA_AUDIO"/>
    <uses-permission android:name="android.permission.READ_MEDIA_IMAGES"/>
    <uses-permission android:name="android.permission.READ_MEDIA_VIDEO"/>
```

## **ğŸ”¥ 5. ê¶Œí•œ ìš”ì²­í•˜ê¸°**

**TargetSDK 33ë¶€í„°ëŠ”Â "READ_MEDIA_IMAGES"Â  "READ_MEDIA_VIDEO"Â  "READ_MEDIA_AUDIO"ì— ëŒ€í•œ ê¶Œí•œë“¤ì„ Manifestì— ì„ ì–¸í•´ ì£¼ê³ Â  í•´ë‹¹ ì´ë¦„ì˜ ê¶Œí•œìœ¼ë¡œ ê¶Œí•œ ì²´í¬ ë° ê¶Œí•œ ìš”ì²­ì„ ì§„í–‰í•´ì•¼í•¨**

```typescript
// ì¹´ë©”ë¼ ê¶Œí•œ ìš”ì²­ ì˜ˆì‹œ
const requestCameraPermission = async (): Promise<boolean> => {
  try {
    const results = await requestMultiple([
      Platform.OS === "ios"
        ? PERMISSIONS.IOS.CAMERA
        : PERMISSIONS.ANDROID.CAMERA,
    ]);

    return (
      results[
        Platform.OS === "ios"
          ? PERMISSIONS.IOS.CAMERA
          : PERMISSIONS.ANDROID.CAMERA
      ] === RESULTS.GRANTED
    );
  } catch (error) {
    console.error(error);
    return false; // ì˜ˆì™¸ ë°œìƒ ì‹œ false ë°˜í™˜
  }
};
```

```typescript
// ë¹„ë””ì˜¤ ê¶Œí•œ ìš”ì²­
const requestVideoPermission = async (): Promise<boolean> => {
  try {
    let permissions: Permission[];
    // ì´ê±´ ì•ˆë“œë¡œì´ë“œ ê¶Œí•œ ìš”ì²­
    if (Platform.OS === "android") {
      //SDKê°€ 33ë²„ì „ ì´ìƒì¸ ê²½ìš°ëŠ” ì•„ë˜ì™€ ê°™ì€ ê¶Œí•œì„ ë©€í‹°ë¡œ ìš”ì²­
      permissions =
        Platform.Version >= 33
          ? [
              PERMISSIONS.ANDROID.READ_MEDIA_IMAGES,
              PERMISSIONS.ANDROID.READ_MEDIA_VIDEO,
            ]
          : [PERMISSIONS.ANDROID.WRITE_EXTERNAL_STORAGE];
      // ì´ê±´ IOS ê¶Œí•œ ìš”ì²­
    } else if (Platform.OS === "ios") {
      permissions = [PERMISSIONS.IOS.PHOTO_LIBRARY];
    } else {
      return false;
    }

    const results: Record<Permission, PermissionStatus> = await requestMultiple(
      permissions
    );

    return permissions.every(
      (permission) => results[permission] === RESULTS.GRANTED
    );
  } catch (error) {
    console.error(error);
    return false;
  }
};
```
